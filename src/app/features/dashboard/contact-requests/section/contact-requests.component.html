<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h4>Solicitudes de Contacto</h4>
      <button class="btn btn-primary" (click)="refreshList()">Refrescar</button>
    </div>
  
    <div *ngIf="loading" class="text-center">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
    </div>
  
    <div *ngIf="error" class="alert alert-danger" role="alert">
      {{ error }}
    </div>
  
    <div *ngIf="!loading && !error">
      <table *ngIf="contactRequests.length > 0" class="table table-striped table-hover table-borderless">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Interesado</th>
            <th>Persona desaparecida</th>
            <th>Teléfono</th>
            <th>Email</th>
            <th>Relación</th>
            <th>Fecha de solicitud</th>
            <th>Estado</th>
            <th>Atendiendo</th>
          </tr>
        </thead>
        <tbody>
        <tr *ngFor="let request of contactRequests" (click)="viewDetails(request.id)" style="cursor: pointer;">
            <td>{{ request.id }}</td>
            <td>{{ request.interestedPersonName }}</td>
            <td>{{ request.missingPersonName }}</td>
            <td>{{ request.phoneNumber }}</td>
            <td>{{ request.email }}</td>
            <td>{{ request.relationship }}</td>
            <td>{{ request.requestDateTime | date:'dd/MM/yyyy HH:mm' }}</td>
            <td><span [class]="getStatusClass(request.status)">{{ formatStatus(request.status) }}</span></td>
            <td>{{ request.attendingUser || 'No asignado' }}</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="contactRequests.length === 0" class="alert alert-info" role="alert">
        No hay solicitudes de contacto disponibles.
      </div>
    </div>
  </div>

  